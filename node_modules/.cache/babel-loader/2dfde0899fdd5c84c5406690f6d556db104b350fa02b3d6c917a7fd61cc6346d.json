{"ast":null,"code":"// src/redux/data/dataActions.js\nimport{LootBoxNFT}from'./contracts';// Ensure the contract is imported correctly\nimport defaultImage from'../../assets/images/JOINTPACK.jpg';// Ensure the default image is correctly imported\nexport const initializeContract=contractAddress=>{return async(dispatch,getState)=>{try{const{web3,account}=getState().blockchain;if(!web3||!account){throw new Error(\"Web3 or account not found\");}if(!contractAddress){throw new Error(\"Contract address not specified\");}const lootBoxNFT=new web3.eth.Contract(LootBoxNFT.abi,contractAddress);dispatch({type:'SET_LOOTBOXNFT_CONTRACT',payload:lootBoxNFT});}catch(error){console.error(\"Error initializing LootBoxNFT contract:\",error);}};};export const fetchData=()=>{return async(dispatch,getState)=>{try{const{account,LootBoxNFT}=getState().blockchain;if(!account||!LootBoxNFT){throw new Error(\"Account or LootBoxNFT contract not found\");}const balance=await LootBoxNFT.methods.balanceOf(account).call();const nftData=[];for(let i=0;i<balance;i++){const tokenId=await LootBoxNFT.methods.tokenOfOwnerByIndex(account,i).call();nftData.push({tokenId:tokenId.toString(),image:defaultImage});// Convert BigInt to string and use the default image\n}dispatch({type:'SET_NFTS',payload:nftData});}catch(error){console.error(\"Error fetching data:\",error);}};};","map":{"version":3,"names":["LootBoxNFT","defaultImage","initializeContract","contractAddress","dispatch","getState","web3","account","blockchain","Error","lootBoxNFT","eth","Contract","abi","type","payload","error","console","fetchData","balance","methods","balanceOf","call","nftData","i","tokenId","tokenOfOwnerByIndex","push","toString","image"],"sources":["C:/Users/deanw/OneDrive/Desktop/GitHub/tribepacks/src/redux/data/dataActions.js"],"sourcesContent":["// src/redux/data/dataActions.js\nimport { LootBoxNFT } from './contracts'; // Ensure the contract is imported correctly\nimport defaultImage from '../../assets/images/JOINTPACK.jpg'; // Ensure the default image is correctly imported\n\nexport const initializeContract = (contractAddress) => {\n  return async (dispatch, getState) => {\n    try {\n      const { web3, account } = getState().blockchain;\n      if (!web3 || !account) {\n        throw new Error(\"Web3 or account not found\");\n      }\n\n      if (!contractAddress) {\n        throw new Error(\"Contract address not specified\");\n      }\n\n      const lootBoxNFT = new web3.eth.Contract(LootBoxNFT.abi, contractAddress);\n      dispatch({ type: 'SET_LOOTBOXNFT_CONTRACT', payload: lootBoxNFT });\n    } catch (error) {\n      console.error(\"Error initializing LootBoxNFT contract:\", error);\n    }\n  };\n};\n\nexport const fetchData = () => {\n  return async (dispatch, getState) => {\n    try {\n      const { account, LootBoxNFT } = getState().blockchain;\n      if (!account || !LootBoxNFT) {\n        throw new Error(\"Account or LootBoxNFT contract not found\");\n      }\n\n      const balance = await LootBoxNFT.methods.balanceOf(account).call();\n      const nftData = [];\n      for (let i = 0; i < balance; i++) {\n        const tokenId = await LootBoxNFT.methods.tokenOfOwnerByIndex(account, i).call();\n        nftData.push({ tokenId: tokenId.toString(), image: defaultImage }); // Convert BigInt to string and use the default image\n      }\n      dispatch({ type: 'SET_NFTS', payload: nftData });\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n};"],"mappings":"AAAA;AACA,OAASA,UAAU,KAAQ,aAAa,CAAE;AAC1C,MAAO,CAAAC,YAAY,KAAM,mCAAmC,CAAE;AAE9D,MAAO,MAAM,CAAAC,kBAAkB,CAAIC,eAAe,EAAK,CACrD,MAAO,OAAOC,QAAQ,CAAEC,QAAQ,GAAK,CACnC,GAAI,CACF,KAAM,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAGF,QAAQ,CAAC,CAAC,CAACG,UAAU,CAC/C,GAAI,CAACF,IAAI,EAAI,CAACC,OAAO,CAAE,CACrB,KAAM,IAAI,CAAAE,KAAK,CAAC,2BAA2B,CAAC,CAC9C,CAEA,GAAI,CAACN,eAAe,CAAE,CACpB,KAAM,IAAI,CAAAM,KAAK,CAAC,gCAAgC,CAAC,CACnD,CAEA,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAJ,IAAI,CAACK,GAAG,CAACC,QAAQ,CAACZ,UAAU,CAACa,GAAG,CAAEV,eAAe,CAAC,CACzEC,QAAQ,CAAC,CAAEU,IAAI,CAAE,yBAAyB,CAAEC,OAAO,CAAEL,UAAW,CAAC,CAAC,CACpE,CAAE,MAAOM,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yCAAyC,CAAEA,KAAK,CAAC,CACjE,CACF,CAAC,CACH,CAAC,CAED,MAAO,MAAM,CAAAE,SAAS,CAAGA,CAAA,GAAM,CAC7B,MAAO,OAAOd,QAAQ,CAAEC,QAAQ,GAAK,CACnC,GAAI,CACF,KAAM,CAAEE,OAAO,CAAEP,UAAW,CAAC,CAAGK,QAAQ,CAAC,CAAC,CAACG,UAAU,CACrD,GAAI,CAACD,OAAO,EAAI,CAACP,UAAU,CAAE,CAC3B,KAAM,IAAI,CAAAS,KAAK,CAAC,0CAA0C,CAAC,CAC7D,CAEA,KAAM,CAAAU,OAAO,CAAG,KAAM,CAAAnB,UAAU,CAACoB,OAAO,CAACC,SAAS,CAACd,OAAO,CAAC,CAACe,IAAI,CAAC,CAAC,CAClE,KAAM,CAAAC,OAAO,CAAG,EAAE,CAClB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGL,OAAO,CAAEK,CAAC,EAAE,CAAE,CAChC,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAzB,UAAU,CAACoB,OAAO,CAACM,mBAAmB,CAACnB,OAAO,CAAEiB,CAAC,CAAC,CAACF,IAAI,CAAC,CAAC,CAC/EC,OAAO,CAACI,IAAI,CAAC,CAAEF,OAAO,CAAEA,OAAO,CAACG,QAAQ,CAAC,CAAC,CAAEC,KAAK,CAAE5B,YAAa,CAAC,CAAC,CAAE;AACtE,CACAG,QAAQ,CAAC,CAAEU,IAAI,CAAE,UAAU,CAAEC,OAAO,CAAEQ,OAAQ,CAAC,CAAC,CAClD,CAAE,MAAOP,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}